
@{
    ViewBag.Title = "Index";
    Layout = "~/Views/Shared/_Layout.cshtml";
}
@*<script src="~/crystalreportviewers13/js/crviewer/crv.js?v=11"></script>*@
@*<script src="~/Angular/ng-Reports.js?v=11"></script>*@
<script src="~/Angular/ng-cLeaveLedger.js?v=@DateTime.Now.ToString()"></script>
<style type="text/css">
    
    .select2-container .select2-selection--single {
        height: 35px !important;
    }

    .ledger_fields {
        font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif !important;
    }

    .atsfield {
        border-top: 0px;
        border-left: 0px;
        border-right: 0px;
        border-bottom: 1.5px solid #1AB394 !important;
        background-color: white !important;
        font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif !important;
        font-weight: bold;
    }
    .vertical_center_initializing {
        width: 100%;
        margin: 0 auto;
        padding: 20px;
    }
    .sl-vl-radio-display-none {
        display: none;
    }
    .my-custom-scrollbar {
        position: relative;
        height: 150px;
        overflow: auto;
    }

    .table-wrapper-scroll-y {
        display: block;
    }

    .swal-footer {
        text-align: center !important;
    }
    .my-custom-scrollbar 
    {
        height: 50% !important;
    }
    .label {

        font-family: inherit;
        font-size: 10px;
        font-weight: 600;
        padding: 3px 8px;
        text-shadow: none;
    }
    .badge {
        font-family: inherit;
        font-size: 10px;
        font-weight: 600;
        padding: 3px 8px;
        text-shadow: none;
    }
    .modal-xl {
        width: 90% !important;
        
    }

    
</style>

<section ng-app="ng_HRD_App" ng-controller="cLeaveLedger_ctrlr">


    <!-- Add/Edit Modal -->
    <div class="modal fade" id="main_modal" tabindex="-1" role="dialog" aria-labelledby="modalLabelSmall" aria-hidden="true" style="overflow:scroll !important">
        <div class="modal-dialog modal-xl">
            <div class="modal-content animated bounceInDown ">
                <div class="modal-header yellow-bg">
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                    <h4 class="modal-title" id="modalLabelSmall">{{ add_modal_descr }}</h4>
                </div>
                <div class="modal-body " style="padding-bottom:5px;">
                    <div class="form-group row">
                        <div class="col-lg-6">
                            <div class="row">
                                <div class="col-lg-12">
                                    <div class="col-lg-7">
                                        <div class="row">
                                            <div class="col-lg-4" style="padding-right:0px;padding-top:9px;">
                                                <label class="font-bold"><b> Ledger Ctrl. Nbr.:</b></label>
                                            </div>
                                            <div class="col-lg-8">
                                                <input class="form-control text-left" id="txtb_ledger_ctrl_no" ng-model="txtb_ledger_ctrl_no" disabled style="font-weight:bolder" />
                                            </div>
                                        </div>
                                        <div class="row" style="padding-top:6px;">
                                            <div class="col-lg-4" style="padding-right:0px;padding-top:9px;">
                                                <label class="font-bold"><b> Employee Name:</b></label>
                                            </div>
                                            <div class="col-lg-8">
                                                <input class="form-control text-left" id="txtb_empl_name" ng-model="txtb_empl_name" disabled style="font-weight:bolder" />
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-lg-5">
                                        <div class="row">
                                            <div class="col-lg-4" style="padding-right:0px;padding-top:9px;">
                                                <label class="font-bold"><b> Date Applied:</b></label>
                                            </div>
                                            <div class="col-lg-8">
                                                <div class="input-group date" data-provide="datepicker">
                                                    <input type="text" id="txtb_date_applied" ng-model="txtb_date_applied" class="form-control form-control-sm text-center font-bold" maxlength="10" ng-disabled="isdisable" style="font-weight:bolder" />
                                                    <span class="input-group-addon">
                                                        <span class="fa fa-calendar"></span>
                                                    </span>
                                                </div>
                                                <label id="lbl_txtb_date_applied_req" class="lbl_required"></label>
                                            </div>
                                        </div>
                                        <div class="row" style="padding-top:6px;">
                                            <div class="col-lg-4" style="padding-right:0px;padding-top:9px;">
                                                <label class="font-bold"><b> Employee ID:</b></label>
                                            </div>
                                            <div class="col-lg-8">
                                                <input class="form-control text-center" id="txtb_empl_id" ng-model="txtb_empl_id" disabled style="font-weight:bolder;width:50%" />
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-lg-7">
                                        <div class="row" style="padding-top:6px;">
                                            <div class="col-lg-4" style="padding-right:0px;padding-top:9px;">
                                                <label class="font-bold"><b> Leave Appl. Ctrl.:</b></label>
                                            </div>
                                            <div class="col-lg-8">
                                                <input class="form-control" id="txtb_leave_ctrlno" ng-model="txtb_leave_ctrlno" style="font-weight:bolder" disabled />
                                            </div>
                                        </div>

                                    </div>
                                    <div class="col-lg-5">
                                        <div class="row" style="padding-top:6px;">

                                            <div class="col-lg-4" style="padding-right:0px;padding-top:9px;">
                                                <label class="font-bold"><b> Approval ID:</b></label>
                                            </div>
                                            <div class="col-lg-8">
                                                <input class="form-control text-left" id="txtb_approval_id" ng-model="txtb_approval_id" disabled style="font-weight:bolder" />
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-lg-12 m-b-md" style="padding-top:20px;">
                                    <div class="tabs-container" style="padding-bottom:0px;margin-bottom:0px;">
                                        <ul class="nav nav-tabs" id="tab_lv_ledger_dtl">
                                            <li id="tab5" class="active">   <a data-toggle="tab" id="tab_1_click" href="#tab-5"><div class="font_tab_ovrd"><b>Leave Header  </b></div></a></li>
                                            <li id="tab4" class="" ng-show="id_leave_dtl_show">         <a data-toggle="tab" href="#tab-lwop"><div><b>LWOP Details </b></div></a></li>
                                            <li id="tab6" class="" ng-show="id_leave_dtl_show">         <a data-toggle="tab" href="#tab-6"><div class="font_tab_ovrd"><b>Leave Details </b></div></a></li>
                                            <li id="tab7" class="" ng-show="txtb_leave_ctrlno!=''">        <a data-toggle="tab" href="#tab-7"><div><b>Approval History </b></div></a></li>
                                        </ul>
                                        <div class="tab-content">
                                            <div id="tab-5" class="tab-pane active" style="padding-bottom:0px;margin-bottom:0px;">
                                                <div class="panel-body">
                                                    <div class="col-lg-7 b-r">
                                                        <div class="row" style="padding-top:6px;">
                                                            <div class="col-lg-4" style="padding-right:0px;padding-top:9px;">
                                                                <label class="font-bold"><b> Period:</b></label>
                                                            </div>
                                                            <div class="col-lg-8">
                                                                <input class="form-control text-left" id="txtb_period" ng-model="txtb_period" />
                                                                <label id="lbl_txtb_period_req" class="lbl_required"></label>
                                                            </div>
                                                        </div>
                                                        <div class="row" style="padding-top:6px;">
                                                            <div class="col-lg-4" style="padding-right:0px;padding-top:9px;">
                                                                <label class="font-bold"><b> Particulars:</b></label>
                                                            </div>
                                                            <div class="col-lg-8">
                                                                <div ng-class="ddl_entry_type != '2' && ADDEDITMODE == 'ADD' ? 'input-group' :''">
                                                                    <input type="text" class="form-control" id="txtb_particulars" ng-model="txtb_particulars">
                                                                    <span class="input-group-btn" ng-if="ddl_entry_type != '2' && ADDEDITMODE == 'ADD'">
                                                                        <button type="button" class="btn btn-primary" ng-click="btnComputeParticular()">
                                                                            Compute
                                                                        </button>
                                                                    </span>
                                                                </div>
                                                                <small ng-if="ddl_entry_type != '2' && ADDEDITMODE == 'ADD'">
                                                                    <i class="fa fa-info-circle text-navy"></i> Day-Hour-Minute
                                                                </small>
                                                                @*<input class="form-control text-left" id="txtb_particulars" ng-model="txtb_particulars" />*@
                                                                <label id="lbl_txtb_particulars_req" class="lbl_required"></label>
                                                            </div>
                                                        </div>

                                                        <div class="row" style="padding-top:6px;">
                                                            <div class="col-lg-4" style="padding-right:0px;padding-top:9px;">
                                                                <label class="font-bold"><b> Entry Type:</b></label>
                                                            </div>
                                                            <div class="col-lg-8">
                                                                <select class="form-control field-select-sm" id="ddl_entry_type" ng-model="ddl_entry_type" ng-change="SelectEntryType()" ng-disabled="dis_entry_type">
                                                                    <option value="1">Automated VL and SL Leave Earn</option>
                                                                    <option value="2">Leave Application</option>
                                                                    <option value="3">Leave Adjustment</option>
                                                                    <option value="4">Suspension</option>
                                                                    <option value="5">Erroneous entry</option>
                                                                    <option value="6">Transfer (Brought forward)</option>
                                                                    <option value="7">Transfer (To other Agency)</option>
                                                                </select>
                                                                <label id="lbl_ddl_entry_type_req" class="lbl_required"></label>
                                                            </div>
                                                        </div>
                                                        <div class="row" style="padding-top:6px;">
                                                            <div class="col-lg-4" style="padding-right:0px;padding-top:9px;">
                                                                <label class="font-bold"><b> Leave Type:</b></label>
                                                            </div>
                                                            <div class="col-lg-8">
                                                                <select class="form-control field-select-sm" id="ddl_leave_type" ng-model="ddl_leave_type" ng-disabled="dis_leave_type" ng-change="SelectLeaveType()">
                                                                    <option value="" selected>Select Here</option>
                                                                    <option ng-repeat="lst in leave_type" value="{{lst.leavetype_code}}">{{lst.leavetype_descr}}</option>
                                                                </select>
                                                                <label id="lbl_ddl_leave_type_req" class="lbl_required"></label>
                                                            </div>
                                                        </div>
                                                        <div class="row" style="padding-top:6px;" ng-show="leave_sub_type.length > 0">
                                                            <div class="col-lg-4" style="padding-right:0px;padding-top:9px;">
                                                                <label class="font-bold"><b> Leave Sub-Type:</b></label>
                                                            </div>
                                                            <div class="col-lg-8">
                                                                <select class="form-control field-select-sm" id="ddl_leave_sub_type" ng-model="ddl_leave_sub_type">
                                                                    <option value="" selected>Select Here</option>
                                                                    <option ng-repeat="lst in leave_sub_type" value="{{lst.leavesubtype_code}}">{{lst.leavesubtype_descr}}</option>
                                                                </select>
                                                            </div>
                                                        </div>
                                                        <div class="row" style="padding-top:6px;">
                                                            <div class="col-lg-4" style="padding-right:0px;padding-top:9px;">
                                                                <label class="font-bold"><b> Details Remarks:</b></label>
                                                            </div>
                                                            <div class="col-lg-8">
                                                                <input class="form-control text-left" id="txtb_details_remarks" ng-model="txtb_details_remarks" />
                                                                <label id="lbl_details_remarks_req" class="lbl_required"></label>
                                                            </div>
                                                        </div>
                                                        <div class="row" style="padding-top:6px;" ng-show="ddl_entry_type == '2' ? true : false">
                                                            <div class="col-lg-4">
                                                                <div class="i-checks" id="slvl_radio0">
                                                                    <label>
                                                                        <input type="radio" value="0" name="sl_vl" id="x0">
                                                                        <label id="slvl_radio0_text" style="font-size:10px !important"> Select Here 0 </label>
                                                                    </label>
                                                                </div>
                                                                <div class="i-checks" id="slvl_radio1">
                                                                    <label>
                                                                        <input type="radio" value="1" name="sl_vl" id="x1">
                                                                        <label id="slvl_radio1_text" style="font-size:10px !important"> Select Here 1</label>
                                                                    </label>
                                                                </div>
                                                            </div>
                                                            <div class="col-lg-8" id="txtb_specify_div">
                                                                <input class="form-control text-left" placeholder="Specify" id="txtb_specify" ng-model="txtb_specify" disabled />
                                                                <label id="lbl_txtb_specify_req" class="lbl_required"></label>
                                                            </div>
                                                        </div>

                                                        <hr style="margin-top:5px;margin-bottom:2px;border:0.5px solid cadetblue;padding:0px;" ng-show="ddl_entry_type == '2' ? true : false" />
                                                        <div class="row" style="padding-top:6px;" ng-show="ddl_entry_type == '2' ? true : false">
                                                            <div class="col-lg-12">
                                                                <small class="font-bold">
                                                                    Override for "By the Authority of the Governor" Signatory in "Application for Leave"
                                                                </small>
                                                                <hr style="margin-top:5px;margin-bottom:2px;border:0.5px solid cadetblue;padding:0px;" ng-show="ddl_entry_type == '2' ? true : false" />
                                                            </div>
                                                            <div class="col-lg-12" >
                                                                <label class="font-bold"><b>Signatory Name:</b></label>
                                                                <input class="form-control text-left" id="txtb_signame3_ovrd" ng-model="txtb_signame3_ovrd" />
                                                            </div>
                                                            <div class="col-lg-12" >
                                                                <label class="font-bold"><b> Signatory Position:</b></label>
                                                                <input class="form-control text-left" id="txtb_sigpos3_ovrd" ng-model="txtb_sigpos3_ovrd" />
                                                            </div>
                                                        </div>



                                                    </div>
                                                    <div class="col-lg-5">
                                                        <div class="row" style="padding-top:6px;">
                                                            <div class="col-lg-5" style="padding-right:0px;padding-top:9px;">
                                                                <label class="font-bold"><b> Ledger Date:</b></label>
                                                            </div>
                                                            <div class="col-lg-7">
                                                                <div class="input-group date" data-provide="datepicker">
                                                                    <input type="text" id="txtb_ledger_date" ng-model="txtb_ledger_date" class="form-control form-control-sm text-center font-bold" maxlength="10" ng-disabled="isdisable" />
                                                                    <span class="input-group-addon">
                                                                        <span class="fa fa-calendar"></span>
                                                                    </span>
                                                                </div>
                                                                <label id="lbl_txtb_ledger_date_req" class="lbl_required"></label>
                                                            </div>
                                                        </div>

                                                        <div class="row" style="padding-top:6px;" ng-hide="hide_txtb_no_of_days">
                                                            <div class="col-lg-8" style="padding-right:0px;padding-top:9px;">
                                                                <label class="font-bold"><b>{{lbl_nbr_days_hrs}} </b></label>
                                                            </div>
                                                            <div class="col-lg-4">
                                                                <input class="form-control text-right" id="txtb_no_of_days" ng-model="txtb_no_of_days" ng-disabled="dis_txtb_no_of_days" />
                                                                <label id="lbl_txtb_no_of_days_req" class="lbl_required"></label>
                                                            </div>
                                                        </div>



                                                        <div class="row" style="padding-top:6px;" ng-hide="hide_txtb_balance_as_of_hdr">
                                                            <div class="col-lg-8">
                                                                <label class="font-bold" style="padding-top:9px;"><b>Bal. as of:</b></label>
                                                            </div>
                                                            <div class="col-lg-4">
                                                                <input class="form-control text-right" id="txtb_balance_as_of_hdr" ng-model="txtb_balance_as_of_hdr" ng-disabled="dis_txtb_balance_as_of_hdr" />
                                                                <label id="lbl_txtb_balance_as_of_hdr_req" class="lbl_required"></label>
                                                            </div>
                                                        </div>

                                                        <div class="row" style="padding-top:6px;" ng-hide="hide_txtb_restore_deduct_hdr">

                                                            <div class="col-lg-8">
                                                                <label class="font-bold" style="padding-top:9px;"><b>Lv. Earned:</b></label>
                                                            </div>
                                                            <div class="col-lg-4">
                                                                <input class="form-control text-right" id="txtb_restore_deduct_hdr" ng-model="txtb_restore_deduct_hdr" />
                                                                <label id="lbl_txtb_restore_deduct_hdr_req" class="lbl_required"></label>
                                                            </div>
                                                        </div>
                                                        <div class="row" style="padding-top:6px;" ng-hide="hide_txtb_abs_und_wp_hdr">

                                                            <div class="col-lg-8">
                                                                <label class="font-bold" style="padding-top:9px;"><b>Abs/Und.WP:</b></label>
                                                            </div>
                                                            <div class="col-lg-4">
                                                                <input class="form-control text-right" id="txtb_abs_und_wp_hdr" ng-model="txtb_abs_und_wp_hdr" ng-keyup="SetNumberofDays()" />
                                                                <label id="lbl_txtb_abs_und_wp_hdr_req" class="lbl_required"></label>
                                                            </div>
                                                        </div>
                                                        <div class="row" style="padding-top:6px;" ng-hide="hide_txtb_abs_und_wop_hdr">

                                                            <div class="col-lg-8">
                                                                <label class="font-bold" style="padding-top:9px;"><b>Abs/Und.WOP:</b></label>
                                                            </div>
                                                            <div class="col-lg-4">
                                                                <input class="form-control text-right" id="txtb_abs_und_wop_hdr" ng-model="txtb_abs_und_wop_hdr" ng-keyup="SetNumberofDays()" />
                                                                <label id="lbl_txtb_abs_und_wop_hdr_req" class="lbl_required"></label>
                                                            </div>
                                                        </div>

                                                        <div class="row m-t-sm m-b-sm" ng-show="(ddl_entry_type == '6' || ddl_entry_type == '7') && ADDEDITMODE == 'ADD' ? true : false">
                                                            <div class="col-lg-12">
                                                                <div class="alert alert-warning">
                                                                    <small>
                                                                        <i class="fa fa-dot-circle-o"></i> Input Remaining balances
                                                                        <br />
                                                                        <i class="fa fa-dot-circle-o"></i> Leave blank if not applicable
                                                                    </small>
                                                                </div>
                                                            </div>
                                                            <div class="col-lg-12">
                                                                <div class="form-group row" ng-repeat="lst in leave_type_data" ng-if="lst.leavetype_code != 'AL'
                                                                                                                                   && lst.leavetype_code != 'CAL'
                                                                                                                                   && lst.leavetype_code != 'MC'
                                                                                                                                   && lst.leavetype_code != 'MC16'
                                                                                                                                   && lst.leavetype_code != 'ML'
                                                                                                                                   && lst.leavetype_code != 'MZ'
                                                                                                                                   && lst.leavetype_code != 'QT'
                                                                                                                                   && lst.leavetype_code != 'STL'
                                                                                                                                   && lst.leavetype_code != 'VWC'
                                                                                                                                   && lst.leavetype_code != 'TL'
                                                                                                                                   && lst.leavetype_code != 'RH'
                                                                                                                                   && lst.leavetype_code != 'CTO'
                                                                                                                                    ">
                                                                    <div class="col-lg-8"><span >{{lst.leavetype_descr}} </span></div>
                                                                    <div class="col-lg-4"><input type="text" ng-model="lst.balance" class="form-control-sm form-control text-right" /></div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                        <div class="row" ng-hide="show_Automated">
                                                            <div class="col-lg-12">
                                                                <h3 class="text-success"><b>Vacation Leave</b></h3>
                                                            </div>
                                                            <div class="col-lg-8" style="padding-top:6px;">
                                                                <label class="font-bold" style="padding-top:9px;"><b>-- Bal as of:</b></label>
                                                            </div>
                                                            <div class="col-lg-4" style="padding-top:6px;">
                                                                <input class="form-control text-right" id="txtb_balance_as_of_vl" ng-model="txtb_balance_as_of_vl" />
                                                            </div>
                                                            <div class="col-lg-8" style="padding-top:6px;" ng-show="show_txtb_restore_deduct_vl">
                                                                <label class="font-bold" style="padding-top:9px;"><b>-- Earned:</b></label>
                                                            </div>
                                                            <div class="col-lg-4" style="padding-top:6px;" ng-show="show_txtb_restore_deduct_vl">
                                                                <input class="form-control text-right" id="txtb_restore_deduct_vl" ng-model="txtb_restore_deduct_vl" />
                                                            </div>
                                                            <div class="col-lg-8" style="padding-top:6px;">
                                                                <label class="font-bold" style="padding-top:9px;font-weight:bolder" id="lbl_abs_und_wp_vl"><b>-- Abs/Und.WP:</b></label>
                                                            </div>
                                                            <div class="col-lg-4" style="padding-top:6px;">
                                                                <input class="form-control text-right" id="txtb_abs_und_wp_vl" ng-model="txtb_abs_und_wp_vl" ng-keyup="LeaveType_MZ_TL_Toogle()" />
                                                                <label id="lbl_txtb_abs_und_wp_vl_req" class="lbl_required"></label>
                                                            </div>
                                                            <div class="col-lg-8" style="padding-top:6px;" ng-show="show_txtb_abs_und_wop_vl">
                                                                <label class="font-bold" style="padding-top:9px;"><b>-- Abs/Und.WOP:</b></label>

                                                            </div>
                                                            <div class="col-lg-4" style="padding-top:6px;" ng-show="show_txtb_abs_und_wop_vl">
                                                                <input class="form-control text-right" id="txtb_abs_und_wop_vl" ng-model="txtb_abs_und_wop_vl" />
                                                            </div>
                                                            <div class="col-lg-12">
                                                                <h3 class="text-danger"><b>Sick Leave</b></h3>
                                                            </div>
                                                            <div class="col-lg-8" style="padding-top:6px;">
                                                                <label class="font-bold" style="padding-top:9px;"><b>-- Bal. as of:</b></label>
                                                            </div>
                                                            <div class="col-lg-4" style="padding-top:6px;">
                                                                <input class="form-control text-right" id="txtb_balance_as_of_sl" ng-model="txtb_balance_as_of_sl" />
                                                            </div>
                                                            <div class="col-lg-8" style="padding-top:6px;" ng-show="show_txtb_restore_deduct_sl">
                                                                <label class="font-bold" style="padding-top:9px;"><b>-- Earned:</b></label>
                                                            </div>
                                                            <div class="col-lg-4" style="padding-top:6px;" ng-show="show_txtb_restore_deduct_sl">
                                                                <input class="form-control text-right" id="txtb_restore_deduct_sl" ng-model="txtb_restore_deduct_sl" />
                                                            </div>
                                                            <div class="col-lg-8" style="padding-top:6px;">
                                                                <label class="font-bold" style="padding-top:9px;font-weight:bolder" id="lbl_abs_und_wp_sl"><b>-- Abs/Und.WP:</b></label>
                                                            </div>
                                                            <div class="col-lg-4" style="padding-top:6px;">
                                                                <input class="form-control text-right" id="txtb_abs_und_wp_sl" ng-model="txtb_abs_und_wp_sl" ng-keyup="LeaveType_MZ_TL_Toogle()" />
                                                                <label id="lbl_txtb_abs_und_wp_sl_req" class="lbl_required"></label>
                                                            </div>
                                                            <div class="col-lg-8" style="padding-top:6px;" ng-show="show_txtb_abs_und_wop_sl">
                                                                <label class="font-bold" style="padding-top:9px;"><b>-- Abs/Und.WOP:</b></label>
                                                            </div>
                                                            <div class="col-lg-4" style="padding-top:6px;" ng-show="show_txtb_abs_und_wop_sl">
                                                                <input class="form-control text-right" id="txtb_abs_und_wop_sl" ng-model="txtb_abs_und_wop_sl" />
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                            <div id="tab-lwop" class="tab-pane">
                                                <div class="panel-body">
                                                    <div class="row" style="padding-top:6px;">
                                                        <div class="col-lg-2" style="padding-right:0px;padding-top:9px;">
                                                            <label class="font-bold"><b> LWOP Dates:</b></label>
                                                        </div>
                                                        <div class="col-lg-7">
                                                            <input class="form-control text-left" id="txtb_lwop_date" ng-model="txtb_lwop_date" />
                                                        </div>
                                                    </div>
                                                    <div class="row" style="padding-top:6px;">
                                                        <div class="col-lg-2" style="padding-right:0px;padding-top:9px;">
                                                            <label class="font-bold"><b> LWOP Body 1:</b></label>
                                                        </div>
                                                        <div class="col-lg-10">
                                                            <textarea class="form-control text-left" id="txtb_lwop_body_1" ng-model="txtb_lwop_body_1"></textarea>
                                                        </div>
                                                    </div>
                                                    <div class="row" style="padding-top:6px;">
                                                        <div class="col-lg-2" style="padding-right:0px;padding-top:9px;">
                                                            <label class="font-bold"><b> LWOP Body 2:</b></label>
                                                        </div>
                                                        <div class="col-lg-10">
                                                            <textarea class="form-control text-left" id="txtb_lwop_body_2" ng-model="txtb_lwop_body_2"></textarea>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                            <div id="tab-6" class="tab-pane">
                                                <div class="panel-body">
                                                    <div class="row">
                                                        <div class="col-lg-12">
                                                            <h3 class="ledger_fields" style="font-weight:bold;">{{ leavetype_description}}</h3>
                                                        </div>
                                                    </div>

                                                    <div class="row" style="padding-top:15px;">
                                                        <div class="col-lg-12 text-right" style="padding-top:5px ;padding-bottom:5px" ng-show="show_btn_add_dtl">
                                                            <button class="btn btn-success btn-sm" id="btn_add_dtl" ng-model="btn_add_dtl" ng-click="btn_add_dtl_click()"><i class="fa fa-plus-square"></i> Add</button>
                                                        </div>
                                                        <div class="col-lg-12">
                                                            <div class="table-wrapper-scroll-y">
                                                                <table id="datalist_grid4" ng-model="datalist_grid4" class="table table-hover table-responsive" style="width:100% !important;">
                                                                    <thead style="position:sticky !important; top: 0; z-index: 1;">
                                                                        <tr>
                                                                            <th width="15%" style="vertical-align: middle;">
                                                                                <h3 class="ledger_fields" style="margin-top:10px;margin-bottom:10px;">
                                                                                    LEAVE TYPE
                                                                                </h3>
                                                                            </th>
                                                                            <th width="10%" style="vertical-align: middle;">
                                                                                <h3 class="ledger_fields" style="margin-top:10px;margin-bottom:10px;">
                                                                                    LEAVE SUB-TYPE
                                                                                </h3>
                                                                            </th>
                                                                            <th width="15%" style="vertical-align: middle;">
                                                                                <h3 class="ledger_fields" style="margin-top:10px;margin-bottom:10px;">
                                                                                    BAL. AS OF
                                                                                </h3>
                                                                            </th>
                                                                            <th width="15%" style="vertical-align: middle;">
                                                                                <h3 class="ledger_fields" style="margin-top:10px;margin-bottom:10px;">
                                                                                    EARNED
                                                                                </h3>
                                                                            </th>
                                                                            <th width="15%" style="vertical-align: middle;">
                                                                                <h3 class="ledger_fields" style="margin-top:10px;margin-bottom:10px;">
                                                                                    ABS./UND. WP
                                                                                </h3>
                                                                            </th>
                                                                            <th width="15%" style="vertical-align: middle;">
                                                                                <h3 class="ledger_fields" style="margin-top:10px;margin-bottom:10px;">
                                                                                    ABS./UND. WOP
                                                                                </h3>
                                                                            </th>
                                                                            <th width="15%" style="vertical-align: middle;">
                                                                                <h3 class="ledger_fields" style="margin-top:10px;margin-bottom:10px;">
                                                                                    ACTION
                                                                                </h3>
                                                                            </th>
                                                                        </tr>
                                                                    </thead>
                                                                    <tbody></tbody>
                                                                </table>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                            <div id="tab-7" class="tab-pane">
                                                <div class="panel-body">
                                                    <div class="row">
                                                        <div class="col-lg-3"></div>
                                                        <div class="col-lg-6">
                                                            <div class="feed-activity-list" id="history">
                                                            </div>
                                                            <button class="btn btn-primary btn-block m-t" ng-click="Retrieve_LeaveHistory()"><i class="fa fa-arrow-down" id="view_details_history"></i> View Details</button>
                                                        </div>
                                                        <div class="col-lg-3"></div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="col-lg-6">
                            <div class="form-group row">
                                <div class="col-lg-12 text-center">
                                    <button class="btn btn-primary btn-sm dim" ng-click="RetrieveCardingReport(txtb_empl_id,'','','2',ddl_rep_mode == '3' ?'CTO':'','iframe_print_preview_carding_review')"> View Card</button>
                                </div>
                            </div>
                            <div class="print_preview_iframe_css">
                                <iframe style="width:100% !important;height:70% !important;border:0px none;" id="iframe_print_preview_carding_review" scrolling="no" src=""></iframe>
                            </div>
                        </div>
                    </div>
                </div>
                @*<div class="modal-footer" style="padding: 10px 30px 10px 30px !important" ng-show="no_action_posted">*@
                <div class="modal-footer" style="padding: 10px 30px 10px 30px !important">
                    <div class="row">
                        <div class="col-lg-3">
                            <button id="cancel_pending" ng-click="btn_cancel_disapprove('C')" ng-show="!show_save_edit_btn" type="button" class="btn btn-success pull-left btn-block"><i class="fa fa-ban"></i> Cancel Pending</button>
                            <button id="disapprove" ng-click="btn_cancel_disapprove('D')" ng-show="!show_save_edit_btn" type="button" class="btn btn-danger pull-left btn-block"><i class="fa fa-thumbs-down"></i> Disapprove</button>
                        </div>
                        <div class="col-lg-5" ng-show="!show_save_edit_btn">
                            <p class="text-left" style="margin-bottom:0px !important;font-weight:bold">Cancel Pending or Disapprove Remarks:</p>
                            <textarea class="form-control form-control-sm" maxlength="255" ng-model="txtb_remarks" id="txtb_remarks"></textarea>
                            @* <input class="form-control" maxlength="255" ng-model="txtb_remarks" id="txtb_remarks" />*@
                            <label id="lbl_txtb_remarks_req" class="lbl_required"></label>
                        </div>
                        <div class="col-lg-4 m-t-md">
                            @*<button type="button" ng-show="!show_save_edit_btn" class="btn btn-danger" data-dismiss="modal" ng-click="btn_reset_redirect()"><i class="fa fa-close"></i> Close</button>*@
                            <button id="post" ng-show="!show_save_edit_btn" ng-click="btn_save_click('POST')" type="button" class="btn btn-warning"><i class="fa fa-paper-plane" id="icn_post"></i> Review & Post to Ledger</button>
                        </div>
                    </div>
                    <div ng-show="show_save_edit_btn">
                        <label ng-show="show_cannot_save" style="float:left !important">You cannot Save if the Entry Type is <span class="text-navy"><u>Automated VL and SL Leave Earn</u></span></label>
                        <button type="button" class="btn btn-danger" data-dismiss="modal" ng-click="btn_reset_redirect()"><i class="fa fa-close"></i> Close</button>
                        <button id="addFinal" ng-disabled="dis_when_s" ng-show="!isEdit" ng-click="btn_save_click('SAVE')" type="button" class="btn btn-success"><i class="fa fa-save"></i> Save</button>
                        <button id="edit" ng-disabled="dis_when_s" ng-show="isEdit" ng-click="btn_save_click('EDIT')" type="button" class="btn btn-success"><i class="fa fa-save"></i> Save Edit</button>
                        <button id="repost" ng-show="isrepost" ng-click="btn_save_click('REPOST')" type="button" class="btn btn-warning"><i class="fa fa-send"></i> Review & Re-Post to Ledger</button>
                    </div>

                </div>
            </div>
        </div>
    </div>

    <!-- Modal for Edit Details -->
    <div class="modal fade" id="modal_leave_ledger_dtl" tabindex="-1" role="dialog" aria-labelledby="modalLabelSmall" aria-hidden="true">
        <div class="modal-dialog modal-sm">
            <div class="modal-content animated bounceInDown modal-content-add-edit">
                <div class="modal-header ">
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                    <h4 class="modal-title" id="modalLabelSmall">Leave Ledger Details </h4>
                </div>
                <div class="modal-body" style="padding-bottom:5px;">
                    <div class="panel-body">
                        <div class="row">
                            <div class="col-lg-12">
                                <label class="font-bold"><b> Leave Type:</b></label>
                                <select class="form-control field-select-sm" id="ddl_leave_type_dtl" ng-model="ddl_leave_type_dtl" ng-disabled="dis_ddl_leave_type_dtl" ng-change="SelectLeaveType_dtl()">
                                    <option value="" selected>Select Here</option>
                                    <option ng-repeat="lst in leave_type" value="{{lst.leavetype_code}}">{{lst.leavetype_descr}}</option>
                                </select>
                                <label id="lbl_ddl_leave_type_dtl_req" class="lbl_required"></label>
                            </div>
                            <div class="col-lg-12" ng-show="(ddl_entry_type == '6' || ddl_entry_type == '7') ? false : true">
                                <label class="font-bold"><b> Leave Sub-Type:</b></label>
                                <select class="form-control field-select-sm" id="ddl_leave_sub_type_dtl" ng-model="ddl_leave_sub_type_dtl" ng-disabled="dis_ddl_leavesub_type_dtl">
                                    <option value="" selected>Select Here</option>
                                    <option ng-repeat="lst in leave_sub_type_dtl" value="{{lst.leavesubtype_code}}">{{lst.leavesubtype_descr}}</option>
                                </select>
                            </div>
                            <div class="col-lg-12">
                                <label class="font-bold" style="padding-top:9px;"><b> Balance as of:</b></label>
                                <input class="form-control text-right" id="txtb_balance_as_of" ng-model="txtb_balance_as_of" ng-disabled="ddl_entry_type == '6' ? true : false"/>
                                <label id="lbl_txtb_balance_as_of_req" class="lbl_required"></label>
                            </div>
                            <div class="col-lg-12" ng-show="(ddl_entry_type == '6' || ddl_entry_type == '7') ? false : true">
                                <label class="font-bold" style="padding-top:9px;"><b> Lv. Earned:'</b></label>
                                <input class="form-control text-right" id="txtb_restore_deduct" ng-model="txtb_restore_deduct" />
                                <label id="lbl_txtb_restore_deduct_req" class="lbl_required"></label>
                            </div>
                            <div class="col-lg-12">
                                <label class="font-bold" style="padding-top:9px;"><b> {{(ddl_entry_type == '6' || ddl_entry_type == '7') ? 'Used Leave:' : 'Abs. Und. WP:'}}</b></label>
                                <input class="form-control text-right" id="txtb_abs_und_wp" ng-model="txtb_abs_und_wp" ng-keyup="RestoreDeductValue()" />
                                <label id="lbl_txtb_abs_und_wp_req" class="lbl_required"></label>
                                <label ng-show="ddl_entry_type == '6' ? true : false" class="lbl_required">Remaining balance: "{{txtb_balance_as_of - txtb_abs_und_wp}}"</label>
                            </div>
                            <div class="col-lg-12" ng-show="(ddl_entry_type == '6' || ddl_entry_type == '7') ? false : true">
                                <label class="font-bold" style="padding-top:9px;"><b> Abs. Und. WOP:</b></label>
                                <input class="form-control text-right" id="txtb_abs_und_wop" ng-model="txtb_abs_und_wop" />
                                <label id="lbl_txtb_abs_und_wop_req" class="lbl_required"></label>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="modal-footer" style="padding: 10px 30px 10px 30px !important">
                    <button id="edit_bal" ng-click="btn_save_dtl_click()" type="button" class="btn btn-success"><i class="fa fa-save"></i> Save Detail</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Print Leave Ledger Modal -->
    <div class="modal fade" id="leave_ledger_print_modal" tabindex="-1" role="dialog" aria-labelledby="modalLabelSmall" aria-hidden="true">
        <div class="modal-dialog modal-xl">
            <div class="modal-content animated bounceInDown modal-content-add-edit">
                <div class="modal-header ">

                    <div class="form-group row">
                        <div class="col-lg-4">
                            <h4 class="modal-title" id="modalLabelSmall">{{lbl_report_header}}</h4>
                        </div>
                        <div class="col-lg-6">
                            <div class="form-group row">
                                <div class="col-lg-4" style="padding-top:6px;" ng-show="show_lv_card_rep_option">
                                    <label class="font-bold"><b>Report Option:</b></label>
                                </div>
                                <div class="col-lg-8" ng-show="show_lv_card_rep_option">
                                    <select class="form-control field-select-sm" id="ddl_report_lv_card" ng-model="ddl_report_lv_card" ng-change="btn_print_ledger(ddl_report_lv_card,0)">
                                        <option value="OLD" selected>Leave Card - Old</option>
                                        <option value="NEW">Leave Card - New</option>
                                    </select>
                                </div>
                            </div>
                        </div>
                        <div class="col-lg-1"></div>
                        <div class="col-lg-1">
                            <button type="button" class="close" data-dismiss="modal" aria-label="Close" ng-click="btn_print_ledger_close()"><span aria-hidden="true">&times;</span></button>
                        </div>
                    </div>

                </div>
                <div class="modal-body" style="padding-bottom:5px;padding-top:5px !important">

                    <div class="panel-body">
                        <div class="row">
                            <div class="col-lg-12">
                                <div class="print_preview_iframe_css">
                                    <iframe style="width:100% !important;height:70% !important;border:0px none;" id="iframe_print_preview2" scrolling="no" src=""></iframe>
                                </div>
                            </div>
                        </div>

                    </div>
                </div>
                <div class="modal-footer" style="padding: 10px 30px 10px 30px !important">
                </div>
            </div>
        </div>
    </div>

    <!-- Print Leave Application Modal -->
    <div class="modal fade" id="leave_app_print_modal" tabindex="-1" role="dialog" aria-labelledby="modalLabelSmall" aria-hidden="true">
        <div class="modal-dialog modal-xl">
            <div class="modal-content ">
                <div class="modal-header blue-bg text-white">
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                    <h4 class="modal-title" id="modalLabelSmall">Print Application for Leave/CTO Form</h4>
                </div>
                <div class="modal-body" style="padding-top:10px !important">
                    <div class="row">
                        <div class="col-lg-12">
                            <div class="form-group row">
                                <div class="col-lg-6" ng-show="show_appl_rep">
                                    <div class="form-group row">
                                        <div class="col-lg-2">
                                            <label class="font-bold"><b>Report Option:</b></label>
                                        </div>
                                        <div class="col-lg-10">
                                            <select class="form-control field-select-sm" id="ddl_report_appl" ng-model="ddl_report_appl" ng-change="SelectReport_Appl(ddl_report_appl)">
                                                <option value="01" selected>Application for Leave Form - Old</option>
                                                <option value="02" selected>Application for Leave Form - New</option>
                                                <option value="03" selected>Notice of Leave Without Pay </option>
                                                <option value="04" selected>Leave Certification (Loan)</option>
                                                <option value="05" selected>Leave Certification (Transfer)</option>
                                                <option value="06" selected>Leave Summary</option>
                                                <option value="07" selected>Tentative Com. of Terminal Leave</option>
                                            </select>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-lg-6">
                                </div>
                            </div>
                        </div>
                        <div class="col-lg-6 b-r">
                            <div class="print_preview_iframe_css">
                                <iframe style="width:100% !important;height:60% !important;border:0px none;" id="iframe_print_preview3" scrolling="no" src=""></iframe>
                            </div>
                        </div>
                        <div class="col-lg-6">
                            <div class="print_preview_iframe_css">
                                <iframe style="width:100% !important;height:60% !important;border:0px none;" id="iframe_print_preview_carding" scrolling="no" src=""></iframe>
                            </div>
                        </div>
                        <div class="col-lg-12 m-t-sm" ng-show="show_reprint">
                            <div class="form-group row" style="border: 1px solid;border-radius: 10px;padding: 10px;">
                                <div class="col-lg-1">
                                    <label class="font-bold" style="margin-top:9px;"><b>Ledger Ctrl No:</b></label>
                                    <input type="text" id="ledger_ctrl_no_reprint" ng-model="ledger_ctrl_no_reprint" class="form-control form-control-sm font-bold" disabled style="font-size:10px" />
                                </div>
                                <div class="col-lg-1">
                                    <label class="font-bold" style="margin-top:9px;"><b>ID No:</b></label>
                                    <input type="text" id="empl_id_reprint" ng-model="empl_id_reprint" class="form-control form-control-sm font-bold text-center" disabled style="font-size:10px" />
                                </div>
                                <div class="col-lg-1">
                                    <label class="font-bold" style="margin-top:9px;"><b>Re-Print Status:</b></label>
                                    <input type="text" id="reprint_status" ng-model="reprint_status" class="form-control form-control-sm font-bold text-center" disabled style="font-size:10px" />
                                </div>
                                <div class="col-lg-3">
                                    <label class="font-bold" style="margin-top:9px;"><b>Reprint Reason:</b></label>
                                    <textarea id="reprint_reason" ng-model="reprint_reason" class="form-control form-control-sm font-bold" style="font-size:10px" placeholder="Missing, Blurry, etc."></textarea>
                                </div>
                                <div class="col-lg-2">
                                    <label class="font-bold" style="margin-top:9px;"><b>Re-Print From:</b></label>
                                    <div class="input-group date" data-provide="datepicker">
                                        <input type="text" id="reprint_date_from" ng-model="reprint_date_from" class="form-control form-control-sm text-center font-bold" maxlength="10" style="font-size:10px" />
                                        <span class="input-group-addon">
                                            <span class="fa fa-calendar"></span>
                                        </span>
                                    </div>
                                </div>
                                <div class="col-lg-2">
                                    <label class="font-bold" style="margin-top:9px;"><b>Re-Print To:</b></label>
                                    <div class="input-group date" data-provide="datepicker">
                                        <input type="text" id="reprint_date_to" ng-model="reprint_date_to" class="form-control form-control-sm text-center font-bold" maxlength="10" style="font-size:10px" />
                                        <span class="input-group-addon">
                                            <span class="fa fa-calendar"></span>
                                        </span>
                                    </div>
                                </div>
                                <div class="col-lg-2">
                                    <button class="btn btn-primary btn-block m-t-lg" ng-click="btn_save_reprint_request()"> <i class="fa fa-save"></i> REQUEST REPRINT</button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- Leave Sync Modal-->
    <div class="modal fade" id="sync_modal" tabindex="-1" role="dialog" aria-labelledby="modalLabelSmall" aria-hidden="true">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-header blue-bg">
                    <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">×</span><span class="sr-only">Close</span></button>
                    <h2 class="modal-title font-bold">{{sync_header}}</h2>
                    <small class="font-bold">{{sync_description}}</small>
                </div>
                <div class="modal-body">
                    <table class="table-bordered table m-b-none" >
                        <thead >
                            <tr >
                                <th>PERIOD</th>
                                <th>EARNED</th>
                                <th>UND.WP</th>
                                <th>BALANCE</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr ng-repeat="lst in sync_data track by $index">
                                <td width="55%">
                                    <input type="text" class="form-control form-control-sm"
                                           ng-model="lst.b.leaveledger_period"
                                           ng-disabled="true">
                                </td>
                                <td width="15%">
                                    <input type="text" class="form-control text-right form-control-sm"
                                           ng-model="lst.a.leaveledger_restore_deduct"
                                           ng-change="updateBalance($index)">
                                </td>
                                <td width="15%">
                                    <input type="text" class="form-control text-right form-control-sm"
                                           ng-model="lst.a.leaveledger_abs_und_wp"
                                           ng-change="updateBalance($index)">
                                </td>
                                <td width="15%">
                                    <input type="text" class="form-control text-right form-control-sm"
                                           ng-model="lst.a.leaveledger_balance_as_of"
                                           ng-disabled="true">
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-danger" data-dismiss="modal">Close</button>
                    <button type="button" class="btn btn-success" ng-click="btnSyncSave()"><i class="fa fa-save"></i> Save</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Leave View -->
    <div class="modal fade" id="view_modal" tabindex="-1" role="dialog" aria-labelledby="modalLabelSmall" aria-hidden="true">
        <div class="modal-dialog modal-md">
            <div class="modal-content">
                <div class="modal-header blue-bg">
                    <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">×</span><span class="sr-only">Close</span></button>
                    <h3 class="modal-title font-bold">Leave History</h3>
                </div>
                <div class="modal-body">
                    <div class="feed-activity-list" id="history_view">
                    </div>
                </div>
                
            </div>
        </div>
    </div>

    <!-- Leave Ledger Page Header-->
    <div class="wrapper wrapper-content animated fadeInRight" style="padding:10px 0px 0px 0px!important">
        <div class="row">
            <div class="col-lg-12">
                <div class="ibox-title" style="background-color:#507CD1;border-radius:5px 5px 0px 0px;">

                    <div class="row">
                        <div class="col-sm-4">

                            <h2 class="text-white">@Model.menu_name</h2>

                        </div>
                        <div class="col-sm-6"></div>
                        <div class="col-sm-2">
                            <div class="ibox-tools" style="padding: 10px !important;">
                                <a class="collapse-link" data-toggle="collapse" data-target="#collapseOne" aria-expanded="true" aria-controls="collapseOne">
                                    <i class="fa fa-chevron-up"></i>
                                </a>
                            </div>
                        </div>
                    </div>

                </div>
            </div>
        </div>
    </div>

    <div class="wrapper wrapper-content animated fadeInRight" style="padding:0px !important;">
        <div class="ibox float-e-margins">
            <div class="ibox-title collapse" id="collapseOne" aria-labelledby="headingOne" data-parent="#accordion">
                <div class="row">
                    <div class="col-lg-8">

                        <div class="form-group row">
                            <div class="col-lg-3">
                                <b><label class="pull-left" style="margin-top:9px;">Department :</label></b>
                            </div>
                            <div class="col-lg-6">
                                <select class="select2_demo_3 form-control" id="ddl_dept" ng-model="ddl_dept" style="width:100%;">
                                    <option value="">-- Select Department -- </option>
                                    <option ng-repeat="lst in lv_admin_dept_list" value="{{lst.department_code}}">{{lst.department_name1}}</option>
                                </select>
                                <label id="lbl_ddl_dept_req" class="lbl_required"></label>
                            </div>
                            <div class="col-lg-3">
                                <button class="btn btn-default btn-block" ng-click="btn_export()"> <i class="fa fa-download"></i> EXPORT LEAVE CARD</button>
                            </div>
                        </div>
                        <div class="form-grop row m-t-xs">
                            <div class="col-lg-3">
                                <b><label class="pull-left" style="margin-top:9px;">Employment Status :</label></b>
                            </div>
                            <div class="col-lg-9">
                                <select class="select2_demo_3 form-control" id="ddl_empl_type" ng-model="ddl_empl_type" style="width:100%;">
                                    <option value="">Regular and Casual</option>
                                    <option value="RE">Regular Employees</option>
                                    <option value="CE">Casual Employees</option>
                                </select>
                            </div>
                        </div>
                        <div class="form-group row m-t-xs">
                            <div class="col-lg-3">
                                <b><label class="pull-left" style="margin-top:9px;">Employee Name :</label></b>
                            </div>
                            <div class="col-lg-9">
                                <select class="select2_demo_3 form-control" id="ddl_name" ng-model="ddl_name" style="width:100%;" ng-change="FilterPageGrid()">
                                    <option value="">-- Select Employee -- </option>
                                    <option ng-repeat="lst in lv_empl_lst_wout_jo" value="{{lst.empl_id}}">{{lst.empl_id}} - {{lst.employee_name}}</option>
                                </select>
                                <label id="lbl_ddl_name_req" class="lbl_required"></label>
                            </div>
                            
                        </div>
                    </div>
                    <div class="col-lg-4">
                        <div class="form-group row">
                            <div class="col-lg-5">
                                <b><label class="pull-left" style="margin-top:9px;">Month - Year :</label></b>
                            </div>
                            <div class="col-lg-7">
                                <input type="text" class="form-control text-left" data-provide="datepicker" id="txtb_dtr_mon_year" ng-model="txtb_dtr_mon_year">
                                <span class="fa fa-calendar pull-right" style="margin-top:-25px;padding-right:10px;"></span>
                            </div>
                        </div>
                        <div class="form-group row m-t-xs">
                            <div class="col-lg-5">
                                <label class="font-bold" style="margin-top:9px;"><b>Lates & Und. :</b></label>
                            </div>
                            <div class="col-lg-7">
                                <input class="form-control text-right" id="txtb_lates_und_min" ng-model="txtb_lates_und_min" ng-disabled="true" style="height: 75px;text-align: center;font-size: 20px;color: red;font-weight:bolder;" />
                                <label id="lbl_txtb_lates_und_min_req" class="lbl_required"></label>
                            </div>
                        </div>
                    </div>

                </div>
                <div class="row" style="padding-top:6px;">
                    <div class="col-lg-8">
                        <div class="form-group row">
                            <div class="col-lg-3" style="padding-right:0px;padding-top:9px;">
                                <label class="font-bold"><b> Date from :</b></label>
                            </div>
                            <div class="col-lg-4">
                                <div class="input-group date" data-provide="datepicker">
                                    <input type="text" id="txtb_date_fr" ng-model="txtb_date_fr" class="form-control form-control-sm text-center font-bold" maxlength="10" ng-disabled="isdisable" />
                                    <span class="input-group-addon">
                                        <span class="fa fa-calendar"></span>
                                    </span>
                                </div>
                                <label id="lbl_txtb_date_fr_req" class="lbl_required"></label>
                            </div>
                            <div class="col-lg-1" style="padding-right:0px;padding-top:9px;padding-left: 0px;">
                                <label class="font-bold"><b>Date To :</b></label>
                            </div>
                            <div class="col-lg-4">
                                <div class="input-group date" data-provide="datepicker">
                                    <input type="text" id="txtb_date_to" ng-model="txtb_date_to" class="form-control form-control-sm text-center font-bold" maxlength="10" ng-disabled="isdisable" />
                                    <span class="input-group-addon">
                                        <span class="fa fa-calendar"></span>
                                    </span>
                                </div>
                                <label id="lbl_txtb_date_to_req" class="lbl_required"></label>
                            </div>
                        </div>
                    </div>
                    <div class="col-lg-4">
                        <div class="form-grop row">
                            <div class="col-lg-5">
                                <label class="font-bold" style="margin-top:9px;"><b>View Mode :</b></label>
                            </div>
                            <div class="col-lg-7">
                                <select class="form-control" id="ddl_rep_mode" ng-model="ddl_rep_mode">
                                    <option value="1">Both Leave and CTO</option>
                                    <option value="2">Leave Card</option>
                                    <option value="3">CTO Card</option>
                                </select>
                            </div>
                        </div>
                    </div>

                </div>
            </div>

            <div class="ibox-content">
                <div class="row">
                    <div class="col-lg-12 m-b-md" style="padding-bottom:0px;margin-bottom:0px;">
                        <div class="tabs-container" style="padding-bottom:0px;margin-bottom:0px;">
                            <ul class="nav nav-tabs" id="tab_dtr_up">
                                <li id="tab11" class=" ">   <a data-toggle="tab" href="#tab-11" id="click_tab11"><div class="font_tab_ovrd"><b> <i class="fa fa-book"></i>Leave Balance      </b></div></a></li>
                                <li id="tab12" class="active">         <a data-toggle="tab" href="#tab-12" id="click_tab12"><div class="font_tab_ovrd"><b> <i class="fa fa-user"></i>Leave Applications </b></div></a></li>
                                <li id="tab13" class="">         <a data-toggle="tab" href="#tab-13" id="click_tab13"><div class="font_tab_ovrd"><b> <i class="fa fa-database"></i>Leave Ledger       </b></div></a></li>
                                <li id="tab14" class="">         <a data-toggle="tab" href="#tab-14" id="click_tab14"><div class="font_tab_ovrd"><b> <i class="fa fa-file-text"></i>Employee DTR       </b></div></a></li>
                                <li id="tab15" class="">         <a data-toggle="tab" href="#tab-15" id="click_tab15"><div class="font_tab_ovrd"><b> <i class="fa fa-history"></i>Time Schedule        </b> <span class="badge badge-primary"> New </span></div></a></li>
                            </ul>
                            <div class="tab-content">
                                <div id="tab-11" class="tab-pane " style="padding-bottom:0px;margin-bottom:0px;">
                                    <div class="panel-body">
                                        <div class="row">
                                            <div class="col-lg-7 ">
                                                <div class="row">
                                                    <div class="col-lg-3" style="padding-right:0px;padding-top:9px;">
                                                        <h3 class="ledger_fields">ID No. :</h3>
                                                    </div>
                                                    <div class="col-lg-9">
                                                        <input class="form-control text-left atsfield" id="txtb_info_empl_id" ng-model="txtb_info_empl_id" disabled />
                                                        <label id="lbl_txtb_sig1_name_req" class="lbl_required"></label>
                                                    </div>
                                                </div>
                                                <div class="row" style="padding-top:5px;">
                                                    <div class="col-lg-3" style="padding-right:0px;padding-top:9px;">
                                                        <h3 class="ledger_fields">Employee Name :</h3>
                                                    </div>
                                                    <div class="col-lg-9">
                                                        <input class="form-control text-left atsfield" id="txtb_info_empl_name" ng-model="txtb_info_empl_name" disabled />
                                                        <label id="lbl_txtb_sig1_name_req" class="lbl_required"></label>
                                                    </div>
                                                </div>

                                                <div class="row" style="padding-top:5px;">
                                                    <div class="col-lg-3" style="padding-right:0px;padding-top:9px;">
                                                        <h3 class="ledger_fields">1st Day of Service:</h3>
                                                    </div>
                                                    <div class="col-lg-9">
                                                        <input class="form-control text-left atsfield" id="txtb_info_day_of_service" ng-model="txtb_info_day_of_service" disabled />
                                                        <label id="lbl_txtb_sig1_name_req" class="lbl_required"></label>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="col-lg-5" style="border-left:1px solid #dbdbdb">
                                                <div class="row">
                                                    <div class="col-lg-12">
                                                        <div class="row">
                                                            <div class="col-lg-6">
                                                                <h3 class="ledger_fields" style="font-weight:bold;">Posted Leave/CTO Balance <label id="todays_date" ng-model="todays_date"></label></h3>
                                                            </div>
                                                            <div class="col-lg-6 text-right">
                                                                <button class="btn btn-default btn-sm" ng-click="btn_reloadBalances()"> <i class="fa fa-refresh"></i> Reload Balances</button>
                                                            </div>
                                                        </div>
                                                        <div class="row" style="height:300px !important;overflow-y:scroll">
                                                            <div class="col-lg-12">
                                                                <table id="datalist_grid_leave_bal" ng-model="datalist_grid_leave_bal" class="table table-responsive" style="width:100% !important;">
                                                                    <thead>
                                                                        <tr></tr>
                                                                    </thead>
                                                                    <tbody>
                                                                        <tr ng-repeat="lst in lst_all_bal">
                                                                            <td>
                                                                                <h3 class="ledger_fields" style="margin-top:10px;margin-bottom:10px;">

                                                                                    {{lst.leavetype_descr}}
                                                                                </h3>
                                                                            </td>
                                                                            <td>
                                                                                <a class="{{lst.balance_color}}">
                                                                                    <label id="info_vl_balance" ng-model="info_vl_balance">{{lst.leaveledger_balance_current}}</label>
                                                                                </a>
                                                                            </td>
                                                                        </tr>
                                                                    </tbody>
                                                                </table>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div id="tab-12" class="tab-pane active">
                                    <div class="panel-body">
                                        <div class="row">
                                            <div class="col-lg-6">
                                                <div class="row">
                                                    <div class="col-lg-12">
                                                        <h3 class="ledger_fields" style="font-weight:bold;">Unposted Leave/CTO</h3>
                                                    </div>
                                                </div>
                                                <div class="row">
                                                    <div class="col-lg-12">
                                                        <div class="table-wrapper-scroll-y my-custom-scrollbar">
                                                            <table id="datalist_grid2" ng-model="datalist_grid2" class="table table-hover table-responsive" style="width:100% !important;">
                                                                <thead style="position:sticky !important; top: 0; z-index: 1;">
                                                                    <tr>
                                                                        <th width="20%" style="vertical-align: middle;">
                                                                            <h3 class="ledger_fields" style="margin-top:10px;margin-bottom:10px;">
                                                                                DATE CREATED
                                                                            </h3>
                                                                        </th>
                                                                        <th width="20%" style="vertical-align: middle;">
                                                                            <h3 class="ledger_fields" style="margin-top:10px;margin-bottom:10px;">
                                                                                LEAVE TYPE
                                                                            </h3>
                                                                        </th>
                                                                        <th width="40%" style="vertical-align: middle;">
                                                                            <h3 class="ledger_fields" style="margin-top:10px;margin-bottom:10px;">
                                                                                INCLUSIVE DATES
                                                                            </h3>
                                                                        </th>
                                                                        <th width="20%" style="vertical-align: middle;">
                                                                            <h3 class="ledger_fields" style="margin-top:10px;margin-bottom:10px;">
                                                                                ACTION
                                                                            </h3>
                                                                        </th>
                                                                    </tr>
                                                                </thead>
                                                                <tbody></tbody>
                                                            </table>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="col-lg-6">
                                                <div class="row">
                                                    <div class="col-lg-6">
                                                        <h3 class="ledger_fields" style="font-weight:bold;">Posted Leave/CTO</h3>
                                                    </div>
                                                    <div class="col-lg-6 text-right">
                                                        <button class="btn btn-default btn-sm" ng-click="btn_reloadPosted()"><i class="fa fa-refresh"></i> Reload Posted</button>
                                                    </div>
                                                </div>
                                                <div class="row">
                                                    <div class="col-lg-12">
                                                        <div class="table-wrapper-scroll-y my-custom-scrollbar">
                                                            <table id="datalist_grid3" ng-model="datalist_grid3" class="table table-hover table-responsive" style="width:100% !important;">
                                                                <thead style="position:sticky !important; top: 0; z-index: 1;">
                                                                    <tr>
                                                                        <th width="20%" style="vertical-align: middle;">
                                                                            <h3 class="ledger_fields" style="margin-top:10px;margin-bottom:10px;">
                                                                                DATE CREATED
                                                                            </h3>
                                                                        </th>
                                                                        <th width="20%" style="vertical-align: middle;">
                                                                            <h3 class="ledger_fields" style="margin-top:10px;margin-bottom:10px;">
                                                                                LEAVE TYPE
                                                                            </h3>
                                                                        </th>
                                                                        <th width="40%" style="vertical-align: middle;">
                                                                            <h3 class="ledger_fields" style="margin-top:10px;margin-bottom:10px;">
                                                                                INCLUSIVE DATES
                                                                            </h3>
                                                                        </th>
                                                                        <th width="20%" style="vertical-align: middle;">
                                                                            <h3 class="ledger_fields" style="margin-top:10px;margin-bottom:10px;">
                                                                                ACTION
                                                                            </h3>
                                                                        </th>
                                                                    </tr>
                                                                </thead>
                                                                <tbody></tbody>
                                                            </table>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div id="tab-13" class="tab-pane">
                                    <div class="panel-body">
                                        <div class="row">
                                            <div class="col-lg-7" style="padding-top:5px;">
                                                <div class="form-group row">
                                                    <div class="col-lg-12">
                                                        <label>
                                                            <input type="radio" ng-model="selectedOption" value="1" ng-change="optionChanged()"> 1st Quarter
                                                        </label>&nbsp;&nbsp;&nbsp;
                                                        <label>
                                                            <input type="radio" ng-model="selectedOption" value="2" ng-change="optionChanged()"> 2nd Quarter
                                                        </label>&nbsp;&nbsp;&nbsp;
                                                        <label>
                                                            <input type="radio" ng-model="selectedOption" value="3" ng-change="optionChanged()"> 3rd Quarter
                                                        </label>&nbsp;&nbsp;&nbsp;
                                                        <label>
                                                            <input type="radio" ng-model="selectedOption" value="4" ng-change="optionChanged()"> 4th Quarter
                                                        </label>
                                                    </div>
                                                    <div class="col-lg-12">
                                                        <span class="badge badge-danger">{{generated_covered_descr}}</span>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="col-lg-5" style="padding-top:5px;">
                                                <div class="row">
                                                    <div class="col-lg-12">
                                                        <div class="pull-right">
                                                            <button id="add" class="btn btn-success" ng-click="btn_add_modal()"><i class="fa fa-plus-circle"> </i> Add </button>
                                                            @*<button id="add" class="btn btn-primary" ng-click="btn_print_ledger('OLD',0)"><i class="fa fa-print"> </i> Print Card </button>*@
                                                            <button data-toggle="dropdown" class="btn btn-primary dropdown-toggle">Print Actions <span class="caret"></span></button>
                                                            <ul class="dropdown-menu">
                                                                <li><a class="font-bold" ng-click="btn_print_ledger('OLD',0)">Print Card</a></li>
                                                                <li><a class="font-bold" ng-click="btn_print_leave_app_posted(0,'leave_certification')">Print Certification (Loan)</a></li>
                                                                <li><a class="font-bold" ng-click="btn_print_leave_app_posted(0,'leave_certification_transfer')">Print Certification (Transfer)</a></li>
                                                                @*<li><a class="font-bold" ng-click="btn_print_leave_app_posted(0,'leave_terminal')">Print Leave Summary</a></li>*@
                                                                <li><a class="font-bold" ng-click="btn_print_leave_app_posted(0,'leave_terminal_tentative')">Tentative Comp. of Terminal Leave</a></li>
                                                            </ul>
                                                        </div>
                                                    </div>
                                                </div>

                                            </div>
                                        </div>
                                        <div class="row" style="padding-top:5px;">
                                            <div class="col-lg-12">
                                                <div class="table-wrapper-scroll-y my-custom-scrollbar">
                                                    <table id="datalist_grid" ng-model="datalist_grid" class="table table-hover table-responsive" style="width:100% !important;">
                                                        <thead style="position:sticky !important; top: 0; z-index: 1;">
                                                            <tr>
                                                                <th width="10%" style="vertical-align: middle;">
                                                                    <h3 class="ledger_fields" style="margin-top:0px;margin-bottom:0px;">
                                                                        PERIOD
                                                                    </h3>
                                                                </th>
                                                                <th width="10%" style="vertical-align: middle;">
                                                                    <h3 class="ledger_fields" style="margin-top:0px;margin-bottom:0px;">
                                                                        LEAVE TYPE
                                                                    </h3>
                                                                </th>
                                                                <th width="8%" style="vertical-align: middle;">
                                                                    <h3 class="ledger_fields" style="margin-top:0px;margin-bottom:0px;">
                                                                        VL EARNED
                                                                    </h3>
                                                                </th>
                                                                <th width="8%" style="vertical-align: middle;">
                                                                    <h3 class="ledger_fields" style="margin-top:0px;margin-bottom:0px;">
                                                                        VL ABS. UND. WP
                                                                    </h3>
                                                                </th>
                                                                <th width="8%" style="vertical-align: middle;">
                                                                    <h3 class="ledger_fields" style="margin-top:0px;margin-bottom:0px;">
                                                                        VL BALANCE
                                                                    </h3>
                                                                </th>
                                                                <th width="8%" style="vertical-align: middle;">
                                                                    <h3 class="ledger_fields" style="margin-top:0px;margin-bottom:0px;">
                                                                        ABS. UND. WOP
                                                                    </h3>
                                                                </th>

                                                                <th width="8%" style="vertical-align: middle;">
                                                                    <h3 class="ledger_fields" style="margin-top:0px;margin-bottom:0px;">
                                                                        SL EARNED
                                                                    </h3>
                                                                </th>
                                                                <th width="8%" style="vertical-align: middle;">
                                                                    <h3 class="ledger_fields" style="margin-top:0px;margin-bottom:0px;">
                                                                        SL ABS. UND. WP
                                                                    </h3>
                                                                </th>
                                                                <th width="8%" style="vertical-align: middle;">
                                                                    <h3 class="ledger_fields" style="margin-top:0px;margin-bottom:0px;">
                                                                        SL BALANCE
                                                                    </h3>
                                                                </th>
                                                                <th width="8%" style="vertical-align: middle;">
                                                                    <h3 class="ledger_fields" style="margin-top:0px;margin-bottom:0px;">
                                                                        ABS. UND. WOP
                                                                    </h3>
                                                                </th>
                                                                <th width="8%" style="vertical-align: middle;">
                                                                    <h3 class="ledger_fields" style="margin-top:0px;margin-bottom:0px;">
                                                                        STATUS
                                                                    </h3>
                                                                </th>
                                                                <th width="16%" style="vertical-align: middle;">
                                                                    <h3 class="ledger_fields" style="margin-top:0px;margin-bottom:0px;">
                                                                        ACTION
                                                                    </h3>
                                                                </th>
                                                            </tr>
                                                        </thead>
                                                        <tbody></tbody>
                                                    </table>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div id="tab-14" class="tab-pane">
                                    <div class="panel-body">
                                        <div class="row">
                                            <div class="col-lg-4">
                                            </div>
                                            <div class="col-lg-8 text-right" style="padding-right:10% !important">
                                                <button id="generate" class="btn btn-warning " ng-click="RefreshDTR('Generate')"><i class="fa fa-cogs"> </i> Generate and Print </button>
                                                <button id="add" class="btn btn-primary " ng-click="RefreshDTR_PrintOnly()"><i class="fa fa-print"> </i> Print Only</button>
                                            </div>
                                        </div>
                                        <div class="row" style="min-height:100% !important;padding-top:5px;">
                                            <div class="col-lg-12">
                                                <iframe style="width:100% !important;height:100% !important;border:0px none;" id="iframe_print_preview4" scrolling="no" src=""></iframe>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div id="tab-15" class="tab-pane">
                                    <div class="panel-body">
                                        <div class="row">
                                            <div class="col-lg-3">
                                                <div class="ibox">
                                                    <div class="ibox-title">
                                                        <h5 class="text-primary"><b>List of Time Schedule </b></h5>
                                                    </div>
                                                    <div class="ibox-content">
                                                        <ul class="sortable-list connectList agile-list" id="todo">
                                                            <li class="{{lst.color}}-element" id="task1" ng-repeat="lst in time_sked_hdr">
                                                                <span class="label label-warning"> <i class="fa fa-calendar-o"></i> {{month_int_to_name(lst.tse_month)}} - {{lst.tse_year}}</span><br /><br />
                                                                <small><b>{{lst.employee_name}}</b></small><br />

                                                                <small><b>Effective Date - {{lst.tse_effective_date}}</b></small>
                                                                <div class="form-group row" style="margin-top:5px !important">
                                                                    <div class="col-lg-6">
                                                                        <span class="badge badge-{{lst.color}}">{{lst.approval_status_descr}}</span>
                                                                    </div>
                                                                    <div class="col-lg-6 text-right">
                                                                        <button ng-click="TimeSked_DTL(lst.empl_id,lst.tse_month,lst.tse_year,lst.tse_effective_date)" class="float-right btn btn-xs btn-white btn-outline"><i class="fa fa-eye"></i> View</button>
                                                                    </div>
                                                                </div>
                                                            </li>
                                                        </ul>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="col-lg-9" style="border-left:1px solid #dbdbdb !important">
                                                <div class="ibox">
                                                    <div class="ibox-title ">
                                                        <h5><b>Time Schedule </b></h5>
                                                        <div class="ibox-tools" style="float:right !important">
                                                            <span class="label label-warning"> <i class="fa fa-calendar-o"></i> {{time_sked_hdr_title}}</span>
                                                        </div>
                                                    </div>
                                                    <div class="ibox-content">

                                                        <div class="table-responsive">
                                                            <table class="table table-hover table-striped">
                                                                <thead style="position:sticky !important; top: 0; z-index: 1;">
                                                                    <tr>
                                                                        <th width="15%">DAY</th>
                                                                        <th width="10%">AM IN</th>
                                                                        <th width="10%">AM OUT</th>
                                                                        <th width="10%">PM IN</th>
                                                                        <th width="10%">PM OUT</th>
                                                                        <th width="40%">TIME SCHEDULE</th>
                                                                        <th width="5%">EQUI</th>
                                                                    </tr>
                                                                </thead>
                                                                <tbody>
                                                                    <tr ng-repeat="lst in time_sked_dtl">
                                                                        <td> <b>{{lst.day_nbr}}  {{lst.day_of_week}} <span class="float-right text-danger bold">{{lst.day_type}} </span> </b></td>
                                                                        <td> <b>{{lst.tse_in_am}}   </b></td>
                                                                        <td> <b>{{lst.tse_out_am}}  </b></td>
                                                                        <td> <b>{{lst.tse_in_pm}}   </b></td>
                                                                        <td> <b>{{lst.tse_out_pm}}  </b></td>
                                                                        <td> <small class="badge badge-success btn-outline">{{lst.ts_descr}}</small>  </td>
                                                                        <td> <b>{{lst.ts_day_equivalent}} </b></td>
                                                                    </tr>
                                                                </tbody>
                                                            </table>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="modal inmodal" id="mone_waiver_modal" tabindex="-1" role="dialog" aria-labelledby="modalLabelSmall" aria-hidden="true" data-backdrop="static" data-keyboard="false">
        <div class="modal-dialog">
            <div class="modal-content animated bounceInDown" style="background-color: #273A4A;border-radius:20px !important;" id="modal_content">
                <div class="modal-header">
                    <h2 class="text-white">YOU NEED TO APPROVE <br />MONETIZATION WAIVER TO CONTINUE</h2>
                    <small style="color: #369AFD;font-size:11pt;font-weight:bold;">Human Resource</small><small style="color: #FE6500;font-size:11pt;font-weight:bold;"> Information System</small>
                </div>
                <div class="modal-body">
                    <div class="row" ng-repeat="lst in data_mone">
                        <div class="col-lg-9">
                            <div class="feed-element">
                                <div class="media-body ">
                                    <h3>
                                        <strong>
                                            {{lst.employee_name_waiver}}
                                        </strong>
                                        &nbsp;&nbsp;

                                        <br />
                                        <small class="text-muted">{{lst.department_short_name_waiver}}</small>
                                    </h3>
                                </div>
                            </div>
                        </div>
                        <div class="col-lg-3">
                            <small class="badge badge-{{lst.approval_status_waiver == 'APPROVED' ? 'success' : 'danger'}}">{{lst.approval_status_waiver}}</small>
                        </div>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-primary btn-rounded center-block" data-dismiss="modal">Close</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Inialiazing Modal -->
    <div class="modal fade" id="modal_initializing">
        <div class="modal-dialog modal-force-center modal-md">
            <div class="modal-dialog text-center">
                <div class="col-lg-12" style="background-color:transparent !important;margin-top:30% !important;">
                    <div class="spiner-example fa-2x">
                        <div class="sk-spinner sk-spinner-three-bounce" style="width:300px;height:300px;">
                            <span style="color:#f8ac59 !important;"> Initializing Data </span>
                            <div class="sk-bounce1" style="background-color: #f8ac59 !important;"></div>
                            <div class="sk-bounce2" style="background-color: #f8ac59 !important;"></div>
                            <div class="sk-bounce3" style="background-color: #f8ac59 !important;"></div>
                            <br />
                            <span style="color:#f8ac59 !important;font-size:18px;"> This might take a while </span>
                        </div>

                    </div>
                </div>
            </div>
        </div>
    </div>


</section>
    

